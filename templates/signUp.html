<!doctype html>  
<html lang="en">  
  <head>  
    <meta charset="utf-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1">  
    <link rel="stylesheet" type="text/css" href="/Grade-Connect-amankwah-clinton/CSS/index.css" />  
    <title>Grade Connect</title>  
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">  
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>  
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>  
    <style>  
      body {  
        height: 100vh;  
        display: flex;  
        align-items: center;  
        justify-content: center;  
      }  
    </style>  
 </head>  
  <body>  
    <form id="signupForm" method="POST">  
      <div class="row mb-3">  
        <label for="inputEmail3" class="col-sm-3 col-form-label">Email</label>  
        <div class="col-sm-9">  
          <input type="email" class="form-control" id="inputEmail" required>  
        </div>  
      </div>  
      <div class="row mb-3">  
        <label for="inputPassword3" class="col-sm-3 col-form-label">Password</label>  
        <div class="col-sm-9">  
          <input type="password" class="form-control" id="inputPassword" required>  
        </div>  
      </div>  
      <fieldset class="row mb-3">  
        <legend class="col-form-label col-sm-3 pt-0">Radios</legend>  
        <div class="col-sm-9">  
          <div class="form-check">  
            <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios1" value="option1" checked>  
            <label class="form-check-label" for="gridRadios1">  
              Admin  
            </label>  
          </div>  
          <div class="form-check">  
            <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios2" value="option2">  
            <label class="form-check-label" for="gridRadios2">  
              Teacher  
            </label>  
          </div>  
          <div class="form-check">  
            <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios2" value="option2">  
            <label class="form-check-label" for="gridRadios2">  
              Exam Officer  
            </label>  
          </div>  
          <div class="form-check">  
            <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios2" value="option2">  
            <label class="form-check-label" for="gridRadios2">  
              Principal  
            </label>  
          </div>  
        </div>  
      </fieldset>  
  
      <button type="submit" class="btn btn-primary">Sign up</button>  
    </form>  

    <script>  
      // Add event listener to the signup form  
      document.getElementById("signupForm").addEventListener("submit", function(event) {  
          event.preventDefault(); // Prevent form submission  

          // Get the form values  
          var email = document.getElementById("inputEmail").value;  
          var password = document.getElementById("inputPassword").value;  

          // Create a new FormData object  
          var formData = new FormData();  
          formData.append("email", email);  
          formData.append("password", password);  

          // Send a POST request to the signup route  
          fetch("/signup", {  
              method: "POST",  
              body: formData  
          })  
          .then(response => response.json())  
          .then(data => {  
              if (data.message === "User created successfully") {  
                  // Redirect to the login page  
                  window.location.href = "/login";  
              } else {  
                  // Display an error message  
                  alert("Username already exists");  
              }  
          })  
          .catch(error => {  
              console.error("Error:", error);  
          });  
      });  
    </script>  
      
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>  
  </body>  
</html>  
